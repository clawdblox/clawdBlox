{
  // MemoryWeave â€” OpenClaw Configuration
  // Docs: https://docs.openclaw.ai

  "identity": {
    "name": "MemoryWeave",
    "emoji": "ðŸ§ ",
    "theme": "NPC management assistant"
  },

  "agent": {
    "workspace": "/root/.openclaw/workspace",
    "model": {
      "primary": "anthropic/claude-haiku-4-5"
    }
  },

  // === Messages ===
  "messages": {
    "groupChat": {
      "mentionPatterns": ["^/"]
    }
  },

  // === Channels ===
  "channels": {
    "telegram": {
      "enabled": true,
      "dmPolicy": "open",
      "allowFrom": ["*"],
      "groups": {
        "*": {
          "requireMention": false
        },
        "-1003773263458": {
          "groupPolicy": "open",
          "requireMention": false,
          "skills": ["memoryweave-npc"],
          "systemPrompt": "You are a transparent NPC message relay for a multi-NPC channel using slash-command routing. Messages starting with /npcname should be routed to that NPC. Default language is English. If the user writes in another language, respond in that language. Use the memoryweave-npc skill to handle all messages. Do not add your own commentary. Reply to the original message."
        }
      }
    }
  },

  // === Commands ===
  // Allow all users to use commands in Telegram groups
  "commands": {
    "native": false,
    "nativeSkills": false,
    "allowFrom": {
      "*": ["*"]
    },
    "useAccessGroups": false
  },

  // === Rate Limiting (messages per minute) ===
  "rateLimit": {
    "perUser": {
      "maxPerMinute": 10,
      "cooldownSeconds": 5
    },
    "perChannel": {
      "maxPerMinute": 30,
      "cooldownSeconds": 2
    },
    // Channel-type overrides
    "admin": {
      "maxPerMinute": 20
    },
    "npc": {
      "maxPerMinute": 15,
      "cooldownSeconds": 3
    }
  },

  // === Sessions ===
  "session": {
    "dmScope": "per-channel-peer",
    "reset": {
      "mode": "daily",
      "atHour": 4
    }
  },

  // === Logging ===
  "logging": {
    "level": "info",           // error | warn | info | debug
    "destination": "stdout",   // stdout | file
    "includeTimestamps": true
  },

  // === Tools ===
  "tools": {
    "allow": ["exec", "read"],
    "exec": {
      "timeoutSec": 30
    }
  },

  // === Environment ===
  "env": {
    "MEMORYWEAVE_API_KEY": "${MEMORYWEAVE_API_KEY}",
    "MEMORYWEAVE_BASE_URL": "${MEMORYWEAVE_BASE_URL}",
    "PATH": "/root/.openclaw/workspace/scripts:${PATH}"
  }
}
